<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
		<link rel="stylesheet" href="../static/styles.css" />
	</head>
	<body>
		<div class="body-container">
            <h1>Detecting Distraction</h1>

            <div class="section-container">
                <h2>Overall Statistics</h2>
				<div class="stats-container">
					<div class="stats-card">
						<h2>{{ average }} %</h2>
						<p>average focus</p>
					</div>
                    <div class="stats-card">
						<h2>{{ student_count }}</h2>
						<p>students detected</p>
					</div>
					<div class="stats-card">
						<h2>{{ total_mins }}</h2>
						<p>minutes analyzed</p>
					</div>
				</div>
            </div>

            <div class="section-container">
                <h2>Focus Over Time</h2>
                <script>
                    window.focusData = {{ focusData | safe }};
                    console.log('Data initialized:', window.focusData);
                </script>
                <div id="focus-chart"></div>
            </div>

            {% if topicData is not none %}

                <div class="section-container">
                    <h2>Focus By Topic</h2>
                    <script>
                        window.topicData = {{ topicData | safe }};
                        console.log('Data initialized:', window.topicData);
                    </script>
                    <div id="topic-chart"></div>
                </div>
                
            {% endif %}
				<!-- <div class="chart-container" id="chart1"></div>
				<script type="text/javascript">
					var chartData = {{ graphJSON | safe }};
					Plotly.newPlot('chart1', chartData.data, chartData.layout);
				</script> -->

				<!-- <div class="chart-container" id="chart2"></div>
				<script type="text/javascript">
					var chartData2 = {{ topicData | safe }};
					Plotly.newPlot('chart2', chartData2.data, chartData2.layout);
				</script> -->
			</div>
		</div>

        <script src="{{ url_for('static', filename='dist/bundle.js') }}"></script>

	</body>
</html>
